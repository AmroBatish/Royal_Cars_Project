{% extends 'base.html' %}
{% load static %}
{% block title %}Owner Cars{% endblock %}

{% block content %}

<!-- رسائل النظام -->
{% if messages %}
<div class="container mt-4">
  {% for message in messages %}
  <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  </div>
  {% endfor %}
</div>
{% endif %}

<div class="container mt-5">

  <!-- عنوان -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0 text-primary">
      <i class="fas fa-car-side me-2"></i> Cars by {{ owner.company_name }}
    </h2>
  </div>

 <div class="card border-0 shadow-sm mb-4">
  <div class="card-header bg-secondary animate__animated animate__slideInUp">
    <h5 class="mb-0  text-white"><i class="bi bi-person-circle me-2"></i> Owner Information</h5>
  </div>
  <ul class="list-group list-group-flush">
    <li class="list-group-item d-flex align-items-center animate__animated animate__fadeInUp">
      <span class="fw-bold text-secondary mr-2">
        <i class="bi bi-person-fill text-primary me-1"></i> Owner:
      </span>
      <span class="text-dark">{{ owner.username }}</span>
    </li>
    <li class="list-group-item d-flex align-items-center animate__animated animate__fadeInUp">
      <span class="fw-bold text-secondary mr-2">
        <i class="bi bi-envelope-fill text-primary me-1"></i> Email:
      </span>
      <span class="text-dark">{{ owner.email }}</span>
    </li>
    <li class="list-group-item d-flex align-items-center animate__animated animate__fadeInUp">
      <span class="fw-bold text-secondary mr-2">
        <i class="bi bi-building text-primary me-1"></i> Company:
      </span>
      <span class="text-dark">{{ owner.company_name }}</span>
    </li>
    <li class="list-group-item d-flex align-items-center">
    <span class="fw-bold text-secondary mr-2 animate__animated animate__fadeInUp">
      <i class="bi bi-car-front-fill text-primary me-1"></i> Cars:
    </span>
    <span class="text-dark">{{ cars_count }}</span>
  </li>

  </ul>
</div>

  <!-- سيارات المالك -->
  <div class="row">
    {% for car in cars %}
    <div class="col-lg-4 col-md-6 mb-4 d-flex">
      <div class="card shadow-sm border-0 w-100 animate__animated animate__slideInLeft">
        {% if car.image %}
        <img src="{{ car.image.url }}" class="card-img-top img-fluid"
             alt="{{ car.name }}"
             style="height: 220px; object-fit: contain; background-color: #f8f9fa;">
        {% endif %}
        <div class="card-body text-center d-flex flex-column">
          <h5 class="card-title text-uppercase mb-3">{{ car.name }}</h5>
          <div class="d-flex justify-content-center text-muted small mb-3">
            <div class="px-2"><i class="fas fa-calendar-alt text-primary me-1"></i>{{ car.year }}</div>
            <div class="px-2 border-start border-end"><i class="fas fa-cogs text-primary me-1"></i>{{ car.transmission }}</div>
            <div class="px-2"><i class="fas fa-road text-primary me-1"></i>{{ car.mileage }}</div>
          </div>
          <a href="{% url 'detail' car.pk %}" class="btn btn-primary fw-bold mt-auto">
            <i class="fas fa-dollar-sign me-1"></i> {{ car.price }}/Day
          </a>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center text-muted">No cars available for this company.</p>
    {% endfor %}
  </div>

</div>
{% endblock %}